<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          xmlns:tools="http://schemas.android.com/tools"
          package="com.unity3d.player" 
          android:installLocation="preferExternal">
    
    <!-- External Storage Permissions -->
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    
    <!-- For Android 11+ (API 30+) Scoped Storage -->
    <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE"
                     tools:ignore="ScopedStorage" />
    
    <application android:label="@string/app_name" 
                 android:icon="@mipmap/app_icon" 
                 android:allowBackup="false"
                 android:requestLegacyExternalStorage="true">
      <activity android:theme="@style/Theme.AppCompat.DayNight.NoActionBar" 
                android:configChanges="locale|fontScale|keyboard|keyboardHidden|mcc|mnc|navigation|orientation|screenLayout|screenSize|smallestScreenSize|touchscreen|uiMode" 
                android:launchMode="singleTask" 
                android:name="com.unity3d.player.UnityPlayerGameActivity" 
                android:excludeFromRecents="true" 
                android:exported="true">
        <intent-filter>
          <action android:name="android.intent.action.MAIN" />
          <category android:name="android.intent.category.LAUNCHER" />
          <category android:name="com.oculus.intent.category.VR" />
        </intent-filter>
        <meta-data android:name="com.oculus.vr.focusaware" android:value="true" />
      </activity>
      <meta-data android:name="unityplayer.SkipPermissionsDialog" android:value="false" />
      <meta-data android:name="com.oculus.ossplash.background" android:value="black" />
      <meta-data android:name="com.oculus.telemetry.project_guid" android:value="e935061f-44f5-442d-b20b-5ddc86120588" />
      <meta-data android:name="com.oculus.supportedDevices" android:value="quest|quest2|questpro|quest3|quest3s" tools:replace="android:value" />
    </application>
    <uses-feature android:name="android.hardware.vr.headtracking" android:version="1" android:required="true" />
</manifest>
